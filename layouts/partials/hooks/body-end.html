<!-- Include mx-dock on all pages-->
<div>{{ partial "mx-dock.html" . }}</div>

<!-- Add analytics as defined by Marketing -->
{{- if and (eq hugo.Environment "production") (not .Params.disable_usercentrics) -}}<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-QJG4"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-QJG4');</script>{{- end -}}

<!-- To make images clickable and zoomable as pop-ups -->

<script src='{{ "js/medium-zoom.js" | relURL }}'></script>

<script>
  const images = Array.from(document.querySelectorAll(".td-content img"));
  images.forEach(img => {
    // Check if the image has the <a> tag
    if (!img.closest('a')) {
      mediumZoom(img, {
        margin: 10, /* The space outside the zoomed image */
        background: "black", /* The background of the zoomed image */
        scrollOffset: 0, /* The number of pixels to scroll to close the zoom */
        container: null, /* The viewport to render the zoom in */
        template: null /* The template element to display on zoom */
      });
    }
  });
</script>

<!-- Olu: Added analytics as defined by Marketing/Legal. Read more here: https://github.com/mendix-web/mendix-analytics-package. You need access from the Mendix Web team -->
{{ if not .Params.disable_usercentrics }}
<script src='{{ "js/analytics-packages/datalayer-tracking.js" | relURL }}'></script>
<script src='{{ "js/analytics-packages/usercentrics-consent.js" | relURL }}'></script>
{{ end }}

