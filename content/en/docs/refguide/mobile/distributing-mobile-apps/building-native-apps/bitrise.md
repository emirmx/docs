---
title: "Build a Mendix Native App with Bitrise"
url: /refguide/mobile/distributing-mobile-apps/building-native-apps/bitrise/
weight: 60
description: Describes how to integrate with Bitrise to build a Mendix native app in the cloud.
---

## Introduction

This guide helps you set up [Bitrise](https://bitrise.io) to automate building a Mendix native app in the cloud. Bitrise is a popular continuous integration service optimized for mobile apps.

{{% alert color="info" %}}
Please note that this documentation is provided as a guide only. Mendix offers support if issues arise with the Mendix build process itself, but cannot provide support for problems related to the Bitrise platform or other third-party tools described in this guide.
{{% /alert %}}

## Prerequisites {#prerequisites}

Before starting this guide, make sure you have completed the following prerequisites:

* Signed up for a [GitHub account](https://github.com/signup) and created a personal access token
* Signed up for a [Bitrise account](https://app.bitrise.io/users/sign_up)
* Read the [Getting Starting guide from Bitrise](https://devcenter.bitrise.io/en/getting-started.html) and understand the key concepts of Bitrise
* Have access to a Mendix project with a native mobile profile as a developer
    * The Mendix project is deployed
* Have created the native template project for your app by following [Using Mendix Native Mobile Builder to Set Up Your Local App](/refguide/mobile/distributing-mobile-apps/building-native-apps/native-build-locally/#using-mendix-native-mobile-builder-to-set-up-your-local-app). Make sure to set the GitHub token to also create a GitHub repository.
* Fulfilled the prerequisite subsections below for all operating systems you want to target

### Prerequisites for iOS {#prerecs-ios}

* Signed up as an [Apple developer](https://developer.apple.com/programs/enroll/)
* Joined the [Apple Developer Program](https://developer.apple.com/programs/) or the [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
* You have access to an [Apple distribution certificate](https://developer.apple.com/help/account/create-certificates/create-developer-id-certificates)
* You have [created an API Key for App Store Connect](https://developer.apple.com/documentation/appstoreconnectapi/creating-api-keys-for-app-store-connect-api)

### Prerequisites for Android {#prerecs-android}

* Signed up as an [Android developer](https://play.google.com/console/signup)
* Created a Keystore [with Android Studio](https://developer.android.com/studio/publish/app-signing#generate-key) or [with Java](https://docs.oracle.com/cd/E19509-01/820-3503/ggfen/index.html)

## Set Up Your Build Project {#set-up-your-build-project}

Bitrise allows you to make a build project for your app: an enumerated series of steps you outline that then become that app's build process. For more information, see [Bitrise's documentation](https://devcenter.bitrise.io/en/builds.html).

To set up your build project, do the following:

1. Create a workspace (if needed) in Bitrise.
1. Create a new project in the workspace.
1. Select the GitHub project generated by **Build Native App** as the repository. It is recommended to use the **GitHub App Integration**:

    {{< figure src="/attachments/refguide/mobile/distributing-mobile-apps/building-native-apps/bitrise/select-repository.png" alt="Select repository" width="350" class="no-border" >}}

1. Select the `master` branch and let Bitrise auto-detect the configuration.
1. Confirm that the correct configuration has been detected:
   * Project type: `React Native`
   * Project directory: `.`
   * Root directory of Android project: `android`
   * Module: `app`
   * Variant: `appstoreRelease`
   * Project or Workspace path: `ios/NativeTemplate.xcworkspace`
   * Scheme name: `nativeTemplate`
   * Distribution method: [Choose the distribution method you want to use](https://developer.apple.com/videos/play/wwdc2019/304/)
   * Build stack: Choose the latest Xcode version compatible with your Mendix version
1. Finish creating the project.
1. Abort the build if one starts automatically (you first need to set up code signing and adjust the workflow).

## Set Up Code Signing for iOS

Applications distributed to iOS devices must be signed with a certificate and a provisioning profile. To do so, you need to register as a developer with Apple and join one of their development programs (see [Prerequisites for iOS](#prerecs-ios) above).

Bitrise supports automatic provisioning via a constant connection with the App Store. To set it up, follow [the guide from Bitrise](https://devcenter.bitrise.io/en/code-signing/ios-code-signing/managing-ios-code-signing-files---automatic-provisioning.html).

If you prefer to manually set up provisioning, follow [this guide from Bitrise](https://devcenter.bitrise.io/en/code-signing/ios-code-signing/managing-ios-code-signing-files---manual-provisioning.html) instead.

### Fixing Development Team Errors

If you see the following error, then you need to specify your development team in the Xcode Archive step: 

```
Signing for "nativeTemplate" requires a development team. Select a development team in the Signing & Capabilities editor.
```

To specify your development team, do the following:

1. In the **Workflow Editor**, go to your workflow.
2. Find the **Xcode Archive & Export for iOS** step.
3. Click on the step to open its settings.
4. Scroll down and find the **IPA export configuration** section.
5. Look for the input field labeled **Developer Portal team**.
6. Enter your Apple Developer Team ID into that field.
7. Save the changes.

Your Apple Developer Team ID can be found in your Apple Developer account under **Membership** details.

## Setup Code Signing for Android 

Applications distributed to Android devices must be signed with a keystore. To distribute Android apps via the PlayStore, you must also register as an Android developer (see [Prerequisites for Android](#prerecs-android) above).

Bitrise lets you store your Android keystore in the build project. Follow [this guide from Bitrise](https://devcenter.bitrise.io/en/code-signing/android-code-signing/uploading-android-keystore-files-to-bitrise.html) to upload and store the keystore.

## Adjust Workflow

The default workflow (**deploy**) needs to be extended to work for Mendix native mobile apps. Open the build project in Bitrise and click on **Workflow** to access Bitrise's workflow editor. With it, you can customize the commands you run in order to build your application.

Any additional workflows that may have been created can be removed. Select the workflow from the dropdown and click **Properties** > **Delete workflow**.

{{% alert color="info" %}}
Older versions of Mendix might require an older version of Node than is supported out-of-the box by Bitrise. Follow these steps to install the appropriate version:

1. Add a new step before the step "Run npm command".
1. Choose **Node Version Manager (NVM)** from the list of steps.
1. Set the **Node Version** property to the required version (leave the NVM version blank).
1. Save changes.
{{% /alert %}}

You can find the required Node version in the **package.json** file of your app's generated native template (look for `"node": ">=[VERSION]"`).

### Add Missing npm Command

Our Bitrise's workflow needs an additional npm command step to function. Add the missing npm command by doing the following:

1. Add a new step after the step "Run npm command".
1. Choose **Run npm command** from the list of steps.
1. Set the npm command with arguments to run to `run configure`.
1. Save changes.

### Remove Unneeded Operating System Targets

By default, Bitrise targets both Android and iOS. If you do not need to build for both operating systems (OS), remove all actions related to that OS and skip all steps below related to it as well.

For example, if you only target iOS, you can remove the actions **Install missing Android SDK components** and **Android Build**. This will significantly speed up your builds and save credits.

### Add Android Code Signing (Android only)

To add Android code signing, do the following:

1. Add a new step after the step **Android Build**.
1. Choose **Android Sign** from the list of steps.
1. Save changes.

Bitrise will use the uploaded keystore to sign the *.apk*.

### Add Cocoapods Install (iOS only)

To add Cocoapods install on iOS, do the following:

1. Add a new step before the step **Xcode Archive**.
1. Choose **Run CocoaPods install** from the list of steps.
1. Set Workdir to `$BITRISE_SOURCE_DIR/ios`
1. Save changes.

This step will install the dependencies required for iOS.

### Add iOS Code Signing (iOS Only)

1. Add a new step before the step **Xcode Archive** (after Run CocoaPods install).
1. Choose **Manage iOS Code Singing** from the list of steps.
1. Set the distribution method to the method selected in the [Set Up Your Build Project](#set-up-your-build-project) section.
1. Save changes.

Bitrise will use the provided iOS Signing information to sign the iOS app.

After these changes, your workflow should look like this (if you target both operating systems):

{{< figure src="/attachments/refguide/mobile/distributing-mobile-apps/building-native-apps/bitrise/workflow.png" alt="Completed workflow" width="350" class="no-border" >}}

## Build Your App

Builds can be started manually or automatically. To start a build manually, open the build project and click **Start build** and confirm the dialog. A typical build will take approximately 20 minutes, but can take longer for complex applications with many dependencies.

When building, you can follow the build output and watch for progress and potential problems being reported there.

To set up automatic builds after running **Build Native App**, follow these steps:

1. Open the **Workflow Editor** of your build project.
1. Open the **Triggers** page.
1. Click **Add push trigger**.
1. Select **Push branch** for **Condition 1** and change the **Push** branch to `master`.
1. Select the **deploy** workflow and confirm.

Now, every time some runs **Build Native App** to update the application bundle, a new build will be triggered in Bitrise.

## Additional Considerations

{{% alert color="info" %}}
When using pipelines, avoid manual commits to the repository that holds your native template. These can interfere with the build pipeline and cause errors in builds. Instead, use the configuration options provided by Build Native App and add dependencies by [declaring them in JavaScript Actions](/howto/extensibility/create-native-javascript-action/#declaring-native-dependencies) or pluggable widgets.
{{% /alert %}}

Our MVP Marcel Groeneweg has written a [Medium post](https://marcel-groeneweg.medium.com/mendix-native-builds-with-bitrise-6ce56f0bb8fc) about optimizing Mendix native mobile builds with Bitrise. Mendix cannot take responsibility for third-party recommendations.
